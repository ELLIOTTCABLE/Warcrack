local lhc, lhcPal = {}, {} do
	local ht, hp = [[9Y^?>֚TKF1Blt<Vw,X-Rv`~"Apf?lp҃/3fVl%q@:c9~\ed	"/7?z2JĐ8FVQ<m}7VPX`HsmL,hkDwڷۇ;ӈR/AnbJ᪠o oBt#E8ϙLɠ )B)R^?!Qi7J~lC\֜Mh!P#61Ʌg$A	hEG`s3_bWiLuc((ԚTKG먋3-trpUs*Qχd0sb^ϩE^=XEaP@	#m~df&xH-kx3Ӛ`¢nF~_y'4(U0)Ud&7N8.+tENrĵY4)aqhgMuWBP,%vi.qAZzx{&rDp25{03P"qj8#Q(|e]pd6Q!WWKw]9trh&.iw,6LB{zHyKh{Ѿl^P\G;9	,Y^Ɲ`B"ٴm>uO(N̖]F<yi4[M2M6ǜ7I$Eq1AT~H#sTmv0y#/a6KY5C}tJXF}^|rSԃuvMgeY\%(!ė@hPlrEľh_imp@}"YGHERP""(u'4AOe@f:,8`(0+ǃdI9~}<fŷz7ʰ,_zQR`[582]_ABq޹ֈuOB$!4{x`>5e4B=Lȫ[`L؁'"6"4<SOCϔ,-㕷>=Z|Jf(kM&]Ay/MSLpF<!L^Hc	5bu&&H;6(ȹ%V3ɚԸvlU|n&ˉ+v01Wpft}Ar`ԐF6_lP}:m9sآk0fG0KhF4A#Cgvg/6{*,/TNy0#jЫx\m܍&0C@20McQ}ʒ̻e^;QclFsajx1cR!9KA>UK9DL{vהIApm81E0$6pgDX{*ȇĪ&_;98攽ЕoxC̆eLݾ6|-]P|KhQa)`ՉMVyb6.,oqdIZڋVyQ \\ZݏYwR;|Y,/43i?b/f2MЕkL/\?34s?"_6AߔTY-M|f^NܾmHxN3\X"yBtߑ~˄dP,uҰxHv~R㺽_pR.1[Rvܢ(l"FmGЩ[y,{^2yd{'a1Gr&6:7:ܒoQ.;<ç"2|rS.h83ZPI6N!|3`@Z,,Qq~,P7f8mD˖P	s;IC.2~aU:]bf݄@.`2SX(÷R7^UXc_ƌ%S&XD܉d/'[!$jZ=A,m~MeڔG;^Ο<*Dɋ6;^<;=~H'NG:ݰәuI8ƈ@,{rnÅۆCv(iM#Q5~Yy^a5%1&y9^طp(ȫq-^^&2du\VX.ҋt䲷[n#N'c>jzxL"Bp)]Ht=><2) m霩)UW79v[~M(-R<M-_zY	(=C	amX1;2I;{>d"~X9Lv\VTREK͘mSM߆B^Vۦ1;ee5:NnsuO"VP8|dǀe0jnl6p7:Vu`ц>Nى¢lfmD8Ouu::z3aDv3\b6E}ظYx29Eؓ/Bn9ٚj_bfupS^xE/l"u+%TQx[T\W8vnLގLEs+1bX~G11`N.b5&v!N5e3>v)/fJj@OVYN?&AM	V8KۈHΒeCX\)`Ԏ]./Tt&mArְ2g(ٮG΅Զř0U1	_S3(ZO3eAQU~:pѾ"cۛ>sp^!<`z\ԦPeΕTӎPfӱ>::C.٬u!()KbVpt/uut$j=Cv F?Z,\n?SpKM`	(tyL7ԧ`XJUPwJ2l-bC|w8boApkܩ4$ĐlTq{`M(t~}*ẽ=L`ʄI'|jiǄt1&'<4JZq!ڟGwz7Lsɶj}W5wǮ_71U5-xbҺa=UrG@~twwN%1Ur*=U8#giE^d{Tg-%\sKhQC9?`0JxKR6f';݊ϼ}PA+T_H,@1[lڷgyGY#m&E؃lbo6Rc*C`=*BYC+CXRGm]UTIU$ad[w!(K)Qʼ睽²mOO6*}Eo|C>gQSΐê#c|z>LҺ	̿\x+\ꊫҶͥ<8^ú6߿<3$I]އ	ۿ~F☏nW'Zdz6rS}mu!D}:p_%?76G40n; l1GOt1;tr]Z5w.'sv3|\V(YZV{քs|1ihYMȖ-g%(I"zd,AnGFh"(s!=ZBIy彟I"_GgD&	?CI6Q)E#1)DtN9}db+sv")eNzDzJ;;GI<OJΓHJ^tYF,sv]srO{':_JCȤco CK=sIDk""GKrVJǓ>{>#!bVQ}Z]F"i8h[!;6|?("R8J}ZNoBHDcwKoRIZ$cD<0=ZEAF DN;%;(Y$CִV$r9:R<s!(_єeд-c$smis	%w>I\^Y{g{r<C9b}Q!.t,b><PEY"N':%IɎq<dVm"b6z_G<Q؄%ds]Q$<Fi:"dJu/>9h9;G,ΉKCeRi+H!&EI5G`vܲkJ9_cr윈·s$^LH(2GΙinыv99k'bıyS|m-9=H1}r9{]B.HbtI̕!>:Ÿ#.(JIr$IMEz҃]C}ȡ9:gihɋ$JރtdꊐMؒK9Z$GVJƑ"N:t!	$I#r\".?ϰ=;(e2"C$p~G#ω;IQ˞˹(qKFc/#iG=%a}IZ9!"CԖ!CfHI	A*u.YrQ㯉tȒ3(c·sky̟=J	`dKIÜI=O*2ȉ&cKH:NM'ޒ%	$~~UNw"':\uc I΃M1YAИhsB\DI;,BPy[Ea,zI;OW"#:L"ֲ㒉7qgs*.(r:0}2oY/(Aw,<bzr,R1N$QEI!<!'E='"+.CLßt:h}yA2DNE%7kF}t>G?~[v!A#I	Y󬄒>896Oi!c9,s0>k"nF!	Dr"$G3o^н-JD"CzZ%h!B>rA՝$S#cYг9u;+NdI9zNw#I:}3"ĦDZJ/z	<b2-7"(ù8b(at!!~Si1o?懐HD7y-&JG:9+:$9ӣ(yĮYՋ:Ѕtg:u*z$]Vqg܄JQPM&Lw݉2YǇE$s"+TqcCutV9#lEŌj8;˝ĜR`$$҈gqIB1~BftDò{9тM'DA?rٍrA^ދ{a`B҄,ɑ~h+-'Έ.a%%;$܃bNL9KK'#QIO$eeяf&1Y7?ts;<fFa!a$C)-qG9{Uy";ԍKF:%[[jzDUZWnOb:thNvCo[%I>2L{!dyY8>E㰈[C"%YӸwFK<|$ZKT!	YB9Kqy5DĜgІN)&OY{<x	#üXo3bEiB9kFI?P'IȒ sA(|E	y :rVIkJr&lJ#/"{hXa$>siU"!~%$q$y.R"?z{j7#gf,Dz9{KԲPB?<d^;$Z^CCt91B]'1(:4Ȳ?AKd5^*|"jD(PZIN:OϗU7O+A>Lܗ&LbRDDc?['ևh!%?$xF%:S!І&F%5{>p';Gqw)C<הh!(-oD!DNل!s\^(ɇ:Ђ%,fITs'!OYFDgdS/O|GsHR/c]#R dGNXsA=;֔iYJB^:~EhAD8CV1sKӊG	$z4Mȇ$c(CMDޙ-K1$e2"En"K\]Q<t9Bcg})s`b㟭<PI'	.KqН|OI4-sN:];̥'Z$DZ=a"U#,>CĜ'trLy71<aĝW_fQcMhz~\k&2U'9'"~%MR$:wɣQqдEhZdL;/rCJZPz&kXt_-'C}K%K,WHdF$8Z+2Z)#%qi:܃2q<}wtEk$_$: &#TD=(a4w'E(B)1"L	{L'XAG;GPOLtDyoB#>VOvE7%]"$^1ĳ(#,ٌdsqtfO("nWd<y܆>u^Gbˌ9Jϖ86}I"xR#$$>ȉbN<]`r'S;9A֌]޳[A"lF~B!$QG;Ms7_܆1)\;;4VAg7	:ڬsΗrM$wD,Sz&:U%t>!ϖ6K#SG$>i.;&"hĐF')bǡŹ	ztzQ68Gy!>}<\o:Cq9>+:DA!x]ƿ[K'dȑAsFbr;/$2\H"01hđKɄQ>$닏>+BtQ%7999+,BhhhJҕh"Q8yЂDEv&Md惡tzXw&ԺY9KXF'#z9"I%h \r<"hG$> %dNKPr%BMA!.yAlJΜ Ct?是?G΂"rO9G7#%BMA؅$"CrKt;sa#)ؕfspudryWE"G-lNi#499A0"Y$+"'"VGKޗ-+d!֞m!uzH9[r~dA$#v!H%d[	!h"\OI	$ai{*_"^=bsr㯐swZǱKvCI_ϓ{ta'9)tD$Lc#CrNCj3%}>/ZFDj>LreYҚ}͓6Kgz(Mز=}vFE"k#xyr$qq[s"q$d?J$ĒE-;Gak~E.9ג!<Ȉ2:,[2|cADK"wdJQoK$&HfGNZW=XDEl$P|L2'tHy,F\RDJ_ORLћ䏤uKC:"YtxJq$%nvXz!D$(\~,;;}QcqwINN?Ġ+B"HBy<7'BDN"V^z3Zf/"z'VD\D2D[%J$Vs(9z;ZȄSQEE+cغE'=)rU+	)IuiЄ-FF0̣zΈ\ȃš)^%Zv%XD#;Z(\XɯB]Y8&Έ̋V=&V&VLn):9(dK9:NB]^ţ+K/ğGܗEdC·[|ϢIA!ur^QC%FR}Lz+iA}	\(9asgcE<ظ(Bb~Frfk^aόb{"F#$!%	yyE;>JWRbd_AĊIG&uz9܄<"-b:"xi9*yM"$'2];ƞ DPnsׄq"(r9>󏭌;dhuR?"N<H9{&BlqךwHyC]v<|-bNù-&_[D3Bk}a;,,}{4ϣeHOCq;	!A:5Hbr,%R?C?hIDd""ukBtO$ARD!9.uD<,YDFkIE{?˹,ŐȄBB9ˤD?9;"tINy%,(9E?a&tlns˧v^QzR$I̥1Gi؃sŠ?II}kJ,	aE#\2I{].)KQ':\RCl!& <RVA)G	1Lt2qD%yEqt1s޾}'^p!$CwƉwt]~I!MbgJ\te1q~'YD2B\GRrO,1r}P91Iu^H;8HkA&KW"&1ÖxD5}yAؔEq+п'ҿz9}C52=v$еUd^BLrJ9g!#dPyKt;>J5{s=|ȏjIqߩ9>AGۤģ>xywJ#wޕ1C(G"!l_ȄN8Y('I =~g_Ҷ1Z8-MQ)ra^\t=iO/y->EлI䄠B_̞庇=w<F4(]%$"ӆ!YIs	YҜ$K%ȇ҂]Zޗbr!Z\<vICtYJ3-q)AH<Q\E^'HrKGO#r%ҳ\x=J]g]!,!FY28I#Iљ$l߂"N1(E"d?'[;ȝoߗR'Om2P%t>(e3,Gwat=dDd"	u!K/:äЗ;bt.!J:(rEL:z%Bg;F |փI%?كȎsz;ʇ\R1AXs&G"(F%zȇt=#H"G,}HЈC~w&9I9#%>1]^?EEZ	#GH![&e<"NCȖ&-ߍ"4ȡI4$P.B;ؕcHuDVXEOʈCl>E$/]z%2#D-$t0Xkag+BHǭ;!*:JPEy$-5/!؏gؾ:Ȏ'\tY(c$$un%3bF.He?+!kZ`BDb[)OJW#_W"䜉sdYxK"!*6rЛ$!$؄h"D"rjsl_!qEzC-sd,!͸Jts?=I+ǲ$rš,q&!1'%㹔sgJr;v9r"zFek*z$LEA"-AֽQM&h؉H%[OOg+}$z-cз&t{ŞgBLazNwI"I+!:E)K,e1kBWQk<k%#rdJ899:$mI!&&F&cB?Gօ'F-6a$ԋ+MĐwuHDE,{DOMM޴^kKT";t	".B$!$e#=Dfpș|ds<cQ"ñgC<c"qq'bEF:zX	pr-cBQ{<XzrI$5]gѧ_*+yш9sawsEщe8bFH{"r~$ę{.!O&՛!3\-b)Ih;#8tH.=~3v>Wo:e\GAfX Ih#Ε=I'tx;C"҇4瞒dt!z#,1.X=KJVx/Aض,A!YI+s%.Kⷑ"MDYG'G</?\\ZEOӒ<1yG޴2GlrC4qeQ$ǠVr}2[D!%ye'aǛ^ǔxtKs&jt]:9òK129&間t$ZG'b#;^d:&bKkz$đ$OׅKe1CwN)=&HFF(Y	V>!.|!z"đl0c6Dyt\Z;aB}	[#GŤ:yMEty釿e#yK9(Є;҈Dt70#KℜL8BPDS"γ	9t_$8[3dq$˸'4r-Ĺ(J}'Pw.%HO:6uQKD"?7pbs"#4=܎bӗ!~Կ21:][ˏc#%t;2Iđt|WLЇb9ozȲJ>iZވ};Ȑu,4FRA\1s""t_D#H=܎LeG܄i4"B=>P"FCw	HD!FOFDhlߊhZ.fKN<sq.D':li"gȷY1Luea}g<Ny:f)M!N[;9Aub2g#tRCvw؂8v7Z $HE仦11!僠LȘ$"MiA=tS5zI))D╟PB,"4IFL!,חń$GI'h]6H{c;&..!Дh[%!"?2I%Nc#Hs"%Z$xS9Bq,Ȱg]], [[&  MB MMLWMLLyLLMLϰ&LL­]]
	local hk, G, V, Vp, ak, by = 4174135837, 1949, 12917, 3899, 10975, ht.byte
	for i=1,#hp do lhcPal[i] = by(hp, i) ~= 2 and by(hp, i)/255 or nil end
	setmetatable(lhc, {__index=function(t, k)
		local v, s, r, a, b, c, d, e
		if type(k) == "string" then
			s, c = k:match("[^/\\]*$"):lower():gsub("%.blp$", ""), 8388593
			d = #s
			for i=1,d+1,2 do
				a, b = by(s, i, i+1)
				c = (c * 4093 + (a or d) * hk + (b or d) * 65521) % 268435399
			end
			a = 2*(((c * ak) % 2147483629) % G)
			a, b = by(ht, a+1, a+2)
			v = ((c * (a*256+b) + ak) % 2147483629) % V
			v, r = Vp + (v - v % 8)*5/8, v % 8
			a, b, c, d, e = by(ht, v, v + 4)
			v = a * 4294967296 + b * 16777216 + c * 65536 + d * 256 + e
			v = ((v - v % 32^r) / 32^r % 32) * 3 - 2
		end
		t[k or false] = lhcPal[v] and v or -3
		return t[k or false]
	end})
end

local Niji, _, T = {_tex=lhc, _palette=lhcPal}, ...
function Niji.GetIconColor(texturePath, r,g,b)
	local li = lhc[texturePath] or -3
	return lhcPal[li] or r, lhcPal[li+1] or g, lhcPal[li+2] or b
end
T.Niji = Niji